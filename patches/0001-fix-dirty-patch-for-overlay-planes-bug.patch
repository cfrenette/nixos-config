From e5ffca38c1409f082b17066049211914f2f161bd Mon Sep 17 00:00:00 2001
From: Cory Frenette <cory@frenette.dev>
Date: Wed, 30 Oct 2024 23:57:06 -0400
Subject: [PATCH] fix: dirty patch for overlay planes bug

---
 drivers/gpu/drm/amd/display/dc/dc.h       | 2 +-
 drivers/gpu/drm/amd/display/dc/dc_types.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/amd/display/dc/dc.h b/drivers/gpu/drm/amd/display/dc/dc.h
index 73cdebcd9..2f554e400 100644
--- a/drivers/gpu/drm/amd/display/dc/dc.h
+++ b/drivers/gpu/drm/amd/display/dc/dc.h
@@ -57,7 +57,7 @@ struct dmub_notification;
 
 #define DC_VER "3.2.291"
 
-#define MAX_SURFACES 3
+#define MAX_SURFACES 4
 #define MAX_PLANES 6
 #define MAX_STREAMS 6
 #define MIN_VIEWPORT_SIZE 12
diff --git a/drivers/gpu/drm/amd/display/dc/dc_types.h b/drivers/gpu/drm/amd/display/dc/dc_types.h
index 33793b112..62d5c6fdf 100644
--- a/drivers/gpu/drm/amd/display/dc/dc_types.h
+++ b/drivers/gpu/drm/amd/display/dc/dc_types.h
@@ -76,7 +76,7 @@ struct dc_perf_trace {
 	unsigned long last_entry_write;
 };
 
-#define MAX_SURFACE_NUM 6
+#define MAX_SURFACE_NUM 4
 #define NUM_PIXEL_FORMATS 10
 
 enum tiling_mode {
-- 
2.44.1

